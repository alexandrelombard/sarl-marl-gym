/** 
 * 
 */
package fr.ciadlab.lanechange.^agent

import fr.ciadlab.lanechange.env.Vehicle
import io.sarl.core.Destroy
import io.sarl.core.Initialize
import io.sarl.core.Logging
import fr.ciadlab.gym.TimeSimulationStep
import fr.ciadlab.lanechange.capacities.VehicleControlCapacity
import io.sarl.core.Behaviors
import fr.ciadlab.lanechange.skills.VehicleControl
import fr.ciadlab.lanechange.capacities.VehicleSelfPerceptionCapacity
import fr.ciadlab.lanechange.skills.VehicleSelfPerception

/** 
 * Represents a driver
 * @author Alexandre Lombard
 * 
 */
agent DriverAgent {
	uses Behaviors

	on Initialize {
		synchronized (this) {
			val vehicle = occurrence.parameters.get(0) as Vehicle	
			
			setSkill(new VehicleControl(vehicle), typeof(VehicleControlCapacity))
			setSkill(new VehicleSelfPerception(vehicle), typeof(VehicleSelfPerceptionCapacity))
			
			registerBehavior(new DefaultDriverBehavior(this))
		}
	}

	on Destroy {
		//
	}
}
